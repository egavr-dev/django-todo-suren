# Сайт на Django. Git. Шаблоны. Теги extends и include.
Тут посмотрим на расширение шаблонов, подключение разных шаблонов к
одному, а так же опубликуем наш код на Github.

Начнем с настройки форматирования кода в pycharm, для этого перейдем
settings -> editor -> code style -> HTML
И тут поставим по 2 отступа для документов html.Это для компактности

Что-бы изменения применить к уже написанному коду, выделим его, затем
двойное нажатие левого <Shift> и там набрать "reformat Code" 
после выполнения у нас код отформатируется. Либо <Ctrl>+<Alt>+L

## Сохраним наш код на Github
Перед большими изменениями сохраним все сделанное и опубликуем наш код
на github.com. Это такое хранилище куда можно сложить наш код, а git
это система контроля версий кода. 
Если нажать дважды левый <Shift> и там ввести vsc, и выбрать 
VSC Operations Popup... это добавить нам панель управления git
Затем в этой панели выбрать Create git repository. Это создаст 
git репозиторий в нашей папке с проектом. Все служебные файли будет
лежать в папке (.git) (скрытая папка).
Еще один способ создать git репозиторий это в терминале прописать команду

`git init` - эта команда так же создаст репозиторий с веткой master

Теперь мы можем сохранять наши версии кода.
Для игнорирования некоторых папок и файлов которые не нужно сохранять в git,
нужно создать файл (.gitignore) (скрытый файл) Соответственно git должен игнорировать
то что в нем указанно. Так как таких файлов и папок может быть очень много, и на 
самом деле уже есть готовый файл .gitignore для python со многими стандартными 
записями, его можно просто скопировать нам в проект. Гуглится как python.gitignore

Все точки сохранения должны быть атомарными (то есть если мы говорим сделал одно и
другое, то следует сделать commit сначала на первое потом на второе).
После таких коммитов (commit) мы сможем видеть оставленные в них сообщения 
в истории изменений git. Это относится к любому из языков программирования.
Очень удобно и полезно весть версионирование проектов.

Теперь можем сложить эти файли на удаленный сервер, что бы точно их не потерять.
Будем это делать на github.com, перейдем на этот сайт зарегистрируемся и войдем 
уже в свой аккаунт. Нажмем на create new -> new repository.

Проект будет [link](github.com/egavr-dev/django-todo-suren)

`egavr-dev` - это имя аккаунта

`django-todo-suren` - это название проекта которое должно быть уникальным
в нашем аккаунте

Можем добавить описание этого проекта, укажем что это public репозиторий
Не будем указывать создание дополнительных файлов, так как мы их уже
создавали. И уже инициализировали git.

Жмем Create repository, после чего, создастся удаленный репозиторий и нам 
выдадут инструкцию о том как нам отправить в него файлы с компьютера.

…or create a new repository on the command line
Если нужно инициализировать проект предварительно

`echo "# django-todo-suren" >> README.md`
`git init`
`git add README.md`
`git commit -m "first commit"`
`git branch -M main`
`git remote add origin https://github.com/egavr-dev/django-todo-suren.git`
`git push -u origin main`

…or push an existing repository from the command line
Если проект уже ранее проинициализирован (как в нашем случае)

`git remote add origin https://github.com/egavr-dev/django-todo-suren.git`
`git branch -M main`
`git push -u origin main`

Если мы например через сайт github.com добавим в этот проект файл
например readme.md в котором сделаем описание проекта. Сразу в самом
проекте на компьютере (в редакторе) этого файла не появится. Файл
нужно притянуть, сделать это можно командой
`git pull` - это если через терминал
Или можно в редакторе в управлении контролем версий сделать
update Project <Ctrl>+T

Перед тем как сделать первый раз обновление проекта, лучше сделать одну
настройку перейдем File -> settings -> version Control -> Git
и тут нужно найти политику обновления, для начала лучше использовать 
update method: Rebase (а по умолчанию обычно стоит Merge)
Так нам будет легче управлять версиями.

И вот после выполнения (update Project <Ctrl>+T) увидим в редакторе файл
readme.md который мы добавляли через сайт.

## Посмотрим как можно расширять шаблоны в Django.

Шаблоны нужны для добавления их в разных местах при этом не повторяясь.
Соответственно один и тот же код нам не нужно писать во многих местах.

### Рассмотрим помощник extends
Встроенный в django, template tag (тэг)
extends позволяет расширить базовый шаблон (по умолчанию это файл base.html)
Таких базовых шаблонов может быть много, подробнее можно почитать [link](https://docs.djangoproject.com/en/5.1/ref/templates/builtins/#extends)
`{% extends "base.html" %}`
Расширять базовый шаблон можно наследуя все что в нем есть.
Сделаем новый файл templates/base.html
Этот файл будет точно такой как был наш первый index.html, только 
это теперь будет базовый шаблон в этом файле такой же html каркас,
есть head в котором title, есть body (в случае с base.html он пустой).
Мы хотим писать меньше повторяющегося кода, например в head мы хотим
добавить какие-то настройки, например добавить новый тег meta или удалить его.
Мы хотим, что-бы эти изменения приходили и в остальные шаблоны, это важно так-ка
пользователь может ходить по страницам, и нам нужно во многих местах
примерно одинаковое содержимое. Например, заголовок, футер, некоторые стили это все может быть единым.
Для этого мы можем использовать специальный помощник extends и сделаем base.html шаблон
расширяемым. Можно расширять любой шаблон, и для этого нужно сделать
подсказки, для django, добавим некоторые блоки которые мы будем расширять
файл templates/base.html
```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}
    Base Title
  {% endblock title %}</title>
</head>
<body>
  {% block body %}
    Base body
  {% endblock body %}
</body>
</html>
```
А именно блоки title и body подготовим их к изменениям.



